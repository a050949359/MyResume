/* empty css             *//* empty css                   */import{a as g}from"./http.0d2a703f.js";/* empty css                  *//* empty css                  */import{a as f,p as i,a2 as v,a3 as A,V as C,U as V,Y as b,T as w,W as D,X as y,o as x,H as U,C as n,e as u,u as q,b as o,J as h,S as N}from"./vendor.c111f7b4.js";import"./index.f17346f2.js";const R={class:"register"},S={class:"form-container"},k={class:"manage-tip"},I=n("span",{class:"title"},"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1),P=h("\u6CE8\u518C"),j=f({setup(T){const m=i(),p=v(),l=i({name:"\u7C73\u65AF\u7279\u5434",email:"27732357@qq.com",password:"321321",password2:"321321",identity:"\u7BA1\u7406\u5458"}),E=A({name:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"},{min:2,max:30,message:"\u957F\u5EA6\u57282\u523030\u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"}],email:[{type:"email",required:!0,message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E",trigger:"blur"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:6,max:30,message:"\u957F\u5EA6\u57286\u523030\u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"}],password2:[{min:6,max:30,message:"\u957F\u5EA6\u57286\u523030\u4E2A\u5B57\u7B26\u4E4B\u95F4",trigger:"blur"},{validator:(r,e,a)=>{e===""?a(new Error("\u8BF7\u91CD\u65B0\u8F93\u5165\u5BC6\u7801")):e!==l.value.password?a(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4!")):a()},trigger:"blur"}]}),B=r=>{!r||r.validate(async e=>{if(e){const{data:a}=await g.post("/api/users/register",l.value);console.log(a),N({message:"\u7528\u6237\u6CE8\u518C\u6210\u529F.",type:"success"}),p.push("/")}else return console.log("error submit!"),!1})};return(r,e)=>{const a=C,t=V,d=b,_=w,F=D,c=y;return x(),U("div",R,[n("section",S,[n("div",k,[I,u(c,{rules:q(E),ref_key:"ruleFormRef",ref:m,model:l.value,class:"registerForm","label-width":"80px"},{default:o(()=>[u(t,{label:"\u7528\u6237\u540D",prop:"name"},{default:o(()=>[u(a,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.name=s),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1}),u(t,{label:"\u90AE\u7BB1",prop:"email"},{default:o(()=>[u(a,{modelValue:l.value.email,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.email=s),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"},null,8,["modelValue"])]),_:1}),u(t,{label:"\u5BC6\u7801",prop:"password"},{default:o(()=>[u(a,{modelValue:l.value.password,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.password=s),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",type:"password"},null,8,["modelValue"])]),_:1}),u(t,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"password2"},{default:o(()=>[u(a,{modelValue:l.value.password2,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.password2=s),placeholder:"\u8BF7\u786E\u8BA4\u5BC6\u7801",type:"password"},null,8,["modelValue"])]),_:1}),u(t,{label:"\u9009\u62E9\u8EAB\u4EFD"},{default:o(()=>[u(_,{modelValue:l.value.identity,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.identity=s),placeholder:"\u9009\u62E9\u8EAB\u4EFD"},{default:o(()=>[u(d,{label:"\u7BA1\u7406\u5458",value:"manager"}),u(d,{label:"\u5458\u5DE5",value:"employee"})]),_:1},8,["modelValue"])]),_:1}),u(t,null,{default:o(()=>[u(F,{onClick:e[5]||(e[5]=s=>B(m.value)),class:"submit-btn"},{default:o(()=>[P]),_:1})]),_:1})]),_:1},8,["rules","model"])])])])}}});export{j as default};
